import{E as T,Q as P,V as z,a as c,b as S}from"./VTimelineItem.4fd05b7e.js";import{V as E,q as x}from"./VcInstructions.3f76c94d.js";import{aD as v,aC as B,a4 as w,o as r,g as y,a as t,b as u,w as s,a2 as o,F as U,$ as n,f as a}from"./index.c7dc571c.js";import{_ as D,y as V,V as d,Z as F}from"./VAvatar.f6608b79.js";import{V as h,a as g}from"./VRow.3ded8873.js";import{V as k,d as p,c as N,b as R}from"./VCard.4f4b6cc7.js";import{V as _}from"./VAlert.2d67c6b2.js";import{V as Q}from"./VSpacer.bf2846e2.js";import"./VOverlay.c90e739b.js";import"./forwardRefs.54bb1675.js";const q="control_tasks/";class j{get_validate_correctness(){return v.get(q+"validate_correctness/")}save_validate_correctness_answers(i){return v.post(q+"validate_correctness/answers",i).then(m=>(m.data.pass_exam===!0&&B.updateValidateCorrectnessExamPass(),m))}}const C=new j,L={components:{VcInstructions:E,Error:T},data:()=>({error:null,loading:!0,quran:x,questions:[],currnet:new P,index:0,problem:!1,message:null,title:null,text:null,q1:"blue",q2:"white",q3:"white",q4:"white",q5:"white",q6:"white",q7:"white",answers:[],disabled:!1,end:!1,end_result:null,correct_answers:0,audio:null,Instructions_dialog:!1,next_disable:!0}),created(){this.getTrainningTasks()},methods:{toggleProblem(){this.problem=!this.problem},reloadPage(){window.location.reload()},getTrainningTasks(){C.get_validate_correctness().then(e=>{this.questions=e.data,this.currnet=this.questions[0],this.loading=!1},e=>{e.response.status===404?this.error="trainning.404_message":e.response.status===400?e.response.data.detail==="Participant already pass the entrance exam"?this.error="trainning.400_message":this.error="trainning.404_message":this.error="error",this.loading=!1})},setAnswer(e){this.next_disable=!1,this.disabled=!0;let i={id:this.currnet.id,label:e};this.answers.push(i);const m=this.currnet.label;e===m?(this["q"+(this.index+1)]="success",this.message=!0,this.correct_answers=this.correct_answers+1,this.title=this.$t("trainning.correct_answer")):(this["q"+(this.index+1)]="fail",this.message=!1,this.title=this.$t("trainning.Incorrect_answer")),this.text=this.$t("trainning.answer_correct_is")+" ",m==="multiple_aya"?this.text=this.text+this.$t("trainning.problem")+" < "+this.$t("trainning.multiple")+" >. "+this.$t("trainning.multiple_feedback"):m==="correct"?this.text=this.text+" < "+this.$t("trainning.correct")+" >. "+this.$t("trainning.correct_feedback"):m==="in_correct"?this.text=this.text+" < "+this.$t("trainning.incorrect")+" >. "+this.$t("trainning.incorrect_feedback"):m==="not_related_quran"?this.text=this.text+this.$t("trainning.problem")+" < "+this.$t("trainning.empty")+" >. "+this.$t("trainning.empty_feedback"):m==="not_match_aya"&&(this.text=this.text+this.$t("trainning.problem")+" < "+this.$t("trainning.different")+" >. "+this.$t("trainning.different_feedback")),this.index===6&&(this.loading=!0,C.save_validate_correctness_answers(this.answers).then(b=>{b.data.pass_exam===!0?this.end_result=!0:this.end_result=!1,this.end=!0,this.loading=!1},b=>{b.response.status===400?b.response.data.detail==="Participant already pass the entrance exam"?this.error="trainning.400_message":this.error="error":this.error="error",this.loading=!1}))},next(){this.message=null,this.next_disable=!0,this.audio&&this.audio.pause(),this.loading=!0,this.problem=!1,this.index=this.index+1,this.currnet=this.questions[this.index],this["q"+(this.index+1)]="blue",this.disabled=!1,this.loading=!1},playAudio(){this.audio=new Audio("http://"+this.currnet.audio_file_name),this.audio.play()}}},Z={key:1,style:{display:"inline-grid"}},G={key:2,style:{display:"inline-grid"}};function H(e,i,m,b,$,f){const A=w("Error"),I=w("VcInstructions");return r(),y(U,null,[t(A,{error:e.error},null,8,["error"]),e.end?(r(),u(h,{key:0,style:{"margin-top":"50px"}},{default:s(()=>[t(g,{cols:"1",sm:"3"}),t(g,{col:"10",sm:"6"},{default:s(()=>[t(k,{class:"mx-auto ma-2 pa-2",style:{"text-align":"center"}},{default:s(()=>[t(p,{class:"text-h5 ma-2 pa-2",style:{"text-align":"center"}},{default:s(()=>[t(V,{class:"ma-2",icon:"mdi-party-popper",color:"gold"}),n(" "+a(e.$t("support.mash"))+" ",1),t(V,{class:"ma-2",icon:"mdi-party-popper",color:"gold"})]),_:1}),t(p,{class:"text-h5 ma-2 pa-2",style:{"text-align":"center","line-height":"2.25rem"}},{default:s(()=>[n(a(e.$t("trainning_session.completed")),1)]),_:1}),t(p,null,{default:s(()=>[n(a(e.$t("trainning_session.Points")+" "+this.correct_answers+" / 7"),1)]),_:1}),e.end_result?(r(),u(p,{key:0,class:"text-h5"},{default:s(()=>[n(a(e.$t("trainning_session.ready")),1)]),_:1})):o("",!0),e.end_result?o("",!0):(r(),u(p,{key:1},{default:s(()=>[n(a(e.$t("trainning_session.train_again")),1)]),_:1})),e.end_result?(r(),u(d,{key:2,style:{margin:"10px",color:"#fff !important"},color:"success",to:"/task/vc"},{default:s(()=>[n(a(e.$t("trainning_session.contribute")),1)]),_:1})):o("",!0),e.end_result?o("",!0):(r(),u(d,{key:3,style:{margin:"10px",color:"#fff !important"},color:"success",onClick:i[0]||(i[0]=l=>f.reloadPage())},{default:s(()=>[n(a(e.$t("trainning_session.try")),1)]),_:1}))]),_:1})]),_:1}),t(g,{cols:"1",sm:"3"})]),_:1})):o("",!0),e.loading?(r(),u(h,{key:1,style:{"margin-top":"50px"}},{default:s(()=>[t(g,{cols:"4"}),t(g,{cols:"4",style:{"text-align":"center"}},{default:s(()=>[t(F,{indeterminate:"",size:51,width:7})]),_:1})]),_:1})):o("",!0),!e.loading&&!e.end&&!e.error?(r(),u(h,{key:2,style:{"justify-content":"center"}},{default:s(()=>[t(g,{cols:"12",sm:"6"},{default:s(()=>[t(z,{"line-inset":"50",direction:"horizontal"},{default:s(()=>[t(c,{size:"small","dot-color":e.q1},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q2},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q3},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q4},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q5},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q6},null,8,["dot-color"]),t(c,{size:"small","dot-color":e.q7},null,8,["dot-color"])]),_:1})]),_:1})]),_:1})):o("",!0),!e.loading&&!e.end&&!e.error?(r(),u(h,{key:3,style:{"margin-top":"0px"}},{default:s(()=>[t(g,{cols:"1",sm:"3"}),t(g,{cols:"10",sm:"6"},{default:s(()=>[t(k,{class:"mx-auto",style:{"text-align":"center"}},{default:s(()=>[t(p,{class:"ma-2 pa-2"},{default:s(()=>[n(a(e.$t("trainning.listen")),1)]),_:1}),t(d,{onClick:i[1]||(i[1]=l=>f.playAudio()),class:"mr-3",variant:"outlined",color:"black",icon:"mdi-play"}),t(p,{class:"ma-2 pa-2"},{default:s(()=>[n(a(e.$t("trainning.recited_correctly")),1)]),_:1}),t(p,{style:{"line-height":"2.25rem"},class:"ma-2 pa-2 text-h5"},{default:s(()=>[n(a(e.quran[e.currnet.surra_number][e.currnet.aya_number].uthmani),1)]),_:1}),e.problem?(r(),u(N,{key:0,class:"ma-2 pa-2"},{default:s(()=>[n(a(e.$t("trainning.what_problem")),1)]),_:1})):o("",!0),e.problem?o("",!0):(r(),y("div",Z,[t(d,{disabled:e.disabled,onClick:i[2]||(i[2]=l=>f.setAnswer("correct")),color:"success",style:{margin:"10px",color:"#fff !important"}},{default:s(()=>[n(a(e.$t("trainning.correct")),1)]),_:1},8,["disabled"]),t(d,{disabled:e.disabled,onClick:i[3]||(i[3]=l=>f.setAnswer("in_correct")),color:"fail",style:{margin:"10px",color:"#fff !important"}},{default:s(()=>[n(a(e.$t("trainning.incorrect")),1)]),_:1},8,["disabled"]),t(d,{disabled:e.disabled,onClick:i[4]||(i[4]=l=>f.toggleProblem()),color:"invalid",style:{margin:"10px"}},{default:s(()=>[n(a(e.$t("trainning.problem")),1)]),_:1},8,["disabled"])])),e.problem?(r(),y("div",G,[t(d,{disabled:e.disabled,onClick:i[5]||(i[5]=l=>f.setAnswer("not_related_quran")),variant:"outlined",color:"invalidoption",style:{margin:"10px"}},{default:s(()=>[n(a(e.$t("trainning.empty")),1)]),_:1},8,["disabled"]),t(d,{disabled:e.disabled,onClick:i[6]||(i[6]=l=>f.setAnswer("not_match_aya")),variant:"outlined",color:"invalidoption",style:{margin:"10px"}},{default:s(()=>[n(a(e.$t("trainning.different")),1)]),_:1},8,["disabled"]),t(d,{disabled:e.disabled,onClick:i[7]||(i[7]=l=>f.setAnswer("multiple_aya")),variant:"outlined",color:"invalidoption",style:{margin:"10px"}},{default:s(()=>[n(a(e.$t("trainning.multiple")),1)]),_:1},8,["disabled"]),t(d,{disabled:e.disabled,onClick:i[8]||(i[8]=l=>f.toggleProblem()),color:"invalid",style:{margin:"10px"},modelValue:e.problem,"onUpdate:modelValue":i[9]||(i[9]=l=>e.problem=l)},{default:s(()=>[n(a(e.$t("trainning.back")),1)]),_:1},8,["disabled","modelValue"])])):o("",!0)]),_:1}),t(h,{style:{"margin-top":"10px"}},{default:s(()=>[t(g,null,{default:s(()=>[e.message?(r(),u(_,{key:0,style:{color:"#fff !important"},density:"compact",type:"success",title:e.title,text:e.text},null,8,["title","text"])):o("",!0),e.message===!1?(r(),u(_,{key:1,style:{"background-color":"#F79191 !important",color:"#fff !important"},density:"compact",type:"warning",title:e.title,text:e.text},null,8,["title","text"])):o("",!0)]),_:1})]),_:1}),t(h,{style:{margin:"15px"}},{default:s(()=>[t(d,{variant:"text",color:"info","prepend-icon":"mdi-notebook-outline"},{default:s(()=>[n(a(e.$t("homepage.instructions"))+" ",1),t(S,{modelValue:e.Instructions_dialog,"onUpdate:modelValue":i[11]||(i[11]=l=>e.Instructions_dialog=l),activator:"parent",width:"auto"},{default:s(()=>[t(k,null,{default:s(()=>[t(I,{Showstart:!1}),t(R,null,{default:s(()=>[t(d,{color:"invalid",block:"",onClick:i[10]||(i[10]=l=>e.Instructions_dialog=!1)},{default:s(()=>[n(a(e.$t("trainning.close")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["modelValue"])]),_:1}),t(Q),e.index!=6?(r(),u(d,{key:0,onClick:i[12]||(i[12]=l=>f.next()),variant:"text",color:"info","prepend-icon":e.$i18n.locale==="AR"?"mdi-chevron-left":"mdi-chevron-right",disabled:e.next_disable},{default:s(()=>[n(a(e.$t("trainning.next")),1)]),_:1},8,["prepend-icon","disabled"])):o("",!0)]),_:1})]),_:1}),t(g,{col:"1",sm:"3"})]),_:1})):o("",!0)],64)}const ie=D(L,[["render",H]]);export{ie as default};
